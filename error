  @GetMapping("/ocr-process")
    public ResponseEntity<?> processPdf(){
        List<MrmQueue> mrmQueueList = pdfService.findAllDocument();
        if(!mrmQueueList.isEmpty()){
            mrmQueueList.forEach(mrmQueue -> {
                try {
                    ocrHandler.processPdfTest(mrmQueue);
                    mrmQueue.setProcessed(true);
                    mrmQueue.setProcessedDate(new Date());
                    pdfRepo.save(mrmQueue);
                } catch (Exception e){
                    log.error("error",e.getMessage());
                }

            });

        }

        return new ResponseEntity<>(HttpStatus.OK);
    }

}


@Service
public class PdfService {
    @Autowired
    private PdfRepo pdfRepo;

    public List<MrmQueue> findAllDocument(){
        return pdfRepo.findByprocessedFalse();
    }
}



@Document(collection = "mrmQueue")
public class MrmQueue {
    private ObjectId id;
    private String chartId;
    private boolean processed;
    private Date processedDate;
}


public interface PdfRepo extends MongoRepository<MrmQueue,Boolean> {

    List<MrmQueue> findByprocessedFalse();
}
